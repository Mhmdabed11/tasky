import React, { MouseEventHandler } from 'react';
import { Box } from '../../tasky-ui';
import { Nav } from './NavBar.style';
import { useLoadingState } from '../../lib/loadingContext';
import ToggleSwitch from '../ToggleSwitch/ToggleSwitch';

type NavBarProps = {
    toggleTheme: MouseEventHandler;
    mode: string;
};

export default function NavBar({ toggleTheme, mode }: NavBarProps) {
    const { loading } = useLoadingState();
    return (
        <Nav>
            <Box
                height={36}
                py={1}
                px={3}
                bg="primary"
                display="flex"
                flexDirection="row"
                alignItems="center"
                justifyContent="space-between"
            >
                <Box>
                    <svg width="45" height="29" viewBox="0 0 45 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M6.152 14.736C6.152 11.728 6.632 8.888 7.592 6.216C6.904 6.136 6.488 6.096 6.344 6.096C5.704 6.096 5.176 6.224 4.76 6.48C4.36 6.72 3.952 7.008 3.536 7.344C2.928 7.856 2.296 8.112 1.64 8.112C1.368 8.112 1.16 8.056 1.016 7.944C0.872 7.816 0.784 7.688 0.752 7.56C0.72 7.432 0.696 7.24 0.68 6.984C0.664 6.728 0.64 6.528 0.608 6.384C0.576 6.24 0.56 6.096 0.56 5.952C0.56 5.808 0.68 5.632 0.92 5.424C2.296 4.208 4.352 3.6 7.088 3.6C7.616 3.6 8.144 3.624 8.672 3.672L8.864 3.24C8.944 3.352 9.048 3.504 9.176 3.696H9.632C11.136 3.696 12.784 3.392 14.576 2.784C14.704 2.752 14.792 2.736 14.84 2.736C15.096 2.736 15.224 2.872 15.224 3.144C15.224 3.416 15.08 3.696 14.792 3.984C13.368 5.552 11.472 6.32 9.104 6.288C8.704 7.84 8.432 9.736 8.288 11.976C8.144 14.216 8.056 15.488 8.024 15.792C7.992 16.096 7.976 16.36 7.976 16.584C7.976 16.808 8.048 17.248 8.192 17.904C8.336 18.56 8.408 18.936 8.408 19.032C8.408 19.496 8.168 19.728 7.688 19.728C6.952 19.728 6.184 18.912 5.384 17.28C5.224 16.992 5.144 16.72 5.144 16.464C5.144 16.192 5.208 16.056 5.336 16.056C5.464 16.056 5.616 16.184 5.792 16.44C5.984 16.696 6.104 16.824 6.152 16.824C6.2 16.824 6.224 16.76 6.224 16.632L6.152 14.736ZM15.3989 16.632C14.0869 18.984 13.0869 20.16 12.3989 20.16C11.9029 20.16 11.4549 19.856 11.0549 19.248C10.9429 19.088 10.8229 18.84 10.6949 18.504C10.5669 18.152 10.4069 17.832 10.2149 17.544C10.0389 17.256 9.95094 16.872 9.95094 16.392C9.95094 15.896 10.0469 15.456 10.2389 15.072C11.5509 12.48 12.9349 10.704 14.3909 9.744C14.5829 9.6 14.8069 9.528 15.0629 9.528C15.3189 9.528 15.6389 9.672 16.0229 9.96C16.2469 10.184 16.3829 10.376 16.4309 10.536C16.5109 10.888 16.5509 11.104 16.5509 11.184C17.1109 11.376 17.3909 11.728 17.3909 12.24C17.3909 12.592 17.2949 13.392 17.1029 14.64C16.9109 15.872 16.7989 16.792 16.7669 17.4C16.7669 17.736 16.8789 17.904 17.1029 17.904C17.3589 17.904 17.8149 17.456 18.4709 16.56C19.1429 15.664 19.5269 15.216 19.6229 15.216C19.7829 15.216 19.8629 15.48 19.8629 16.008L19.8149 17.184C19.8149 17.632 19.6149 18.248 19.2149 19.032C18.8149 19.8 18.3029 20.184 17.6789 20.184C17.2949 20.184 16.9909 20.056 16.7669 19.8C16.6869 19.72 16.5669 19.56 16.4069 19.32C15.9109 18.6 15.5749 17.704 15.3989 16.632ZM15.6149 11.088C13.5989 12.928 12.3189 15.032 11.7749 17.4C13.3909 16.008 14.6709 13.904 15.6149 11.088ZM24.1342 9.168C24.3742 9.056 24.7022 9 25.1182 9C25.5342 9 26.0302 9.168 26.6062 9.504C27.1822 9.824 27.4702 10.208 27.4702 10.656C27.4702 11.088 27.2942 11.48 26.9422 11.832C26.6062 12.184 26.2222 12.36 25.7902 12.36C25.1342 12.36 24.6782 12.056 24.4222 11.448C24.3902 11.352 24.3342 11.304 24.2542 11.304C24.1902 11.304 23.9262 11.4 23.4622 11.592C23.0142 11.784 22.7102 11.92 22.5502 12C22.3902 12.08 22.3102 12.16 22.3102 12.24C22.3102 12.304 22.4222 12.392 22.6462 12.504C25.4942 13.272 26.9182 14.448 26.9182 16.032C26.9182 16.592 26.6942 17.176 26.2462 17.784C25.8142 18.376 25.1982 18.864 24.3982 19.248C23.5982 19.632 22.8302 19.824 22.0942 19.824C21.3582 19.824 20.8382 19.624 20.5342 19.224C20.2462 18.824 20.1022 18.248 20.1022 17.496C20.1022 16.744 20.3662 16.184 20.8942 15.816C21.5982 15.352 22.1742 15.12 22.6222 15.12C22.7342 15.12 22.7902 15.152 22.7902 15.216C22.7902 15.264 22.6622 15.36 22.4062 15.504C22.1662 15.648 21.9022 15.856 21.6142 16.128C21.3422 16.4 21.2062 16.624 21.2062 16.8C21.2062 16.96 21.3982 17.04 21.7822 17.04C22.8062 17.04 23.8142 16.752 24.8062 16.176C25.0302 16.064 25.1422 15.936 25.1422 15.792C25.1422 15.632 24.9742 15.472 24.6382 15.312C24.3022 15.152 23.7342 14.92 22.9342 14.616C22.1502 14.312 21.5262 14.056 21.0622 13.848C20.6142 13.624 20.3902 13.264 20.3902 12.768C20.3902 12.624 20.4222 12.424 20.4862 12.168C20.5662 11.896 20.6142 11.712 20.6302 11.616C20.7102 11.056 20.9582 10.672 21.3742 10.464C21.8062 10.256 22.7262 9.824 24.1342 9.168ZM34.7246 17.688C35.0446 17.688 35.1886 17.968 35.1566 18.528C35.1566 18.704 35.1726 18.84 35.2046 18.936C35.2366 19.032 35.2526 19.12 35.2526 19.2C35.2526 19.456 35.0766 19.648 34.7246 19.776C34.3886 19.904 34.0126 19.968 33.5966 19.968C33.1806 19.968 32.7406 19.728 32.2766 19.248C31.8286 18.752 31.0206 17.64 29.8526 15.912V16.512C29.8526 17.296 29.8846 17.888 29.9486 18.288C30.0286 18.688 30.0686 18.936 30.0686 19.032C30.0686 19.56 29.7646 19.824 29.1566 19.824C28.8366 19.824 28.6126 19.704 28.4846 19.464C28.3726 19.208 28.2526 18.816 28.1246 18.288C27.9966 17.76 27.9326 17.384 27.9326 17.16C27.9326 16.936 27.9646 16.616 28.0286 16.2C28.1086 15.768 28.1566 15.432 28.1726 15.192C28.2046 14.936 28.2446 14.512 28.2926 13.92C28.5166 10.4 29.0126 6.352 29.7806 1.776C29.7166 1.52 29.6846 1.296 29.6846 1.104C29.6846 0.895998 29.7646 0.791998 29.9246 0.791998C30.0846 0.791998 30.2606 0.903998 30.4526 1.128C30.7246 1.4 30.9406 1.8 31.1006 2.328C31.2606 2.856 31.3406 3.28 31.3406 3.6C31.3406 3.92 31.3006 4.312 31.2206 4.776C31.1566 5.224 31.0446 5.896 30.8846 6.792C30.5326 8.76 30.2926 10.272 30.1646 11.328C30.1966 11.296 30.3086 11.192 30.5006 11.016C30.6926 10.824 30.8126 10.704 30.8606 10.656C30.9086 10.608 31.0206 10.512 31.1966 10.368C31.3726 10.208 31.5006 10.104 31.5806 10.056C31.6766 10.008 31.8046 9.936 31.9646 9.84C32.1406 9.728 32.2926 9.656 32.4206 9.624C32.7246 9.512 33.0286 9.456 33.3326 9.456C34.0366 9.456 34.5646 9.712 34.9166 10.224C35.2686 10.736 35.4446 11.368 35.4446 12.12C35.4446 12.632 35.3726 13.024 35.2286 13.296C35.0846 13.552 34.9726 13.752 34.8926 13.896C34.8126 14.024 34.6766 14.168 34.4846 14.328L34.0526 14.688C33.8446 14.864 33.4446 15.096 32.8526 15.384C32.2606 15.672 31.9166 15.848 31.8206 15.912C31.7406 15.96 31.7006 16.016 31.7006 16.08C31.7006 16.128 31.7406 16.192 31.8206 16.272C32.6206 17.072 33.5006 17.536 34.4606 17.664L34.7246 17.688ZM33.6206 11.472C32.6926 11.888 31.8206 12.56 31.0046 13.488C31.9486 13.2 32.8206 12.528 33.6206 11.472ZM35.8661 10.032C35.8661 9.792 36.0261 9.688 36.3461 9.72C36.4421 9.72 36.5621 9.72 36.7061 9.72C36.8501 9.72 37.1541 9.648 37.6181 9.504C38.0821 9.344 38.4501 9.264 38.7221 9.264C38.9941 9.264 39.2501 9.376 39.4901 9.6C39.7461 9.808 39.9781 10.08 40.1861 10.416C40.3941 10.752 40.4981 11.104 40.4981 11.472C40.4981 11.824 40.1461 12.776 39.4421 14.328C38.7541 15.864 38.4101 16.688 38.4101 16.8C38.4101 16.912 38.4741 16.968 38.6021 16.968C38.8581 16.968 39.3941 16.504 40.2101 15.576C40.3861 15.368 40.5781 15.096 40.7861 14.76C41.0101 14.408 41.1781 14.144 41.2901 13.968C41.4021 13.792 41.5541 13.488 41.7461 13.056C41.9541 12.624 42.0901 12.344 42.1541 12.216C42.4581 11.576 42.7221 10.968 42.9461 10.392C43.0741 10.12 43.2661 9.984 43.5221 9.984C43.7781 9.984 44.0181 10.136 44.2421 10.44C44.4661 10.744 44.5781 11.048 44.5781 11.352C44.5781 11.88 44.1621 14.104 43.3301 18.024C42.4981 21.944 42.0341 24.12 41.9381 24.552C41.8581 24.984 41.7781 25.96 41.6981 27.48C41.6981 27.976 41.5301 28.224 41.1941 28.224C41.0821 28.224 40.9781 28.2 40.8821 28.152C39.7141 27.672 39.1301 26.648 39.1301 25.08V23.472C39.1301 23.136 39.2341 22.968 39.4421 22.968C39.6341 22.968 39.8341 23.104 40.0421 23.376C40.2661 23.648 40.3861 23.8 40.4021 23.832L41.6981 17.424C40.9781 18.288 40.4101 18.872 39.9941 19.176C39.5781 19.464 39.0741 19.608 38.4821 19.608C37.9061 19.608 37.4421 19.336 37.0901 18.792C36.7381 18.248 36.5621 17.632 36.5621 16.944C36.5621 15.52 37.0661 13.84 38.0741 11.904C37.6261 12.016 37.2581 12.072 36.9701 12.072C36.6981 12.072 36.4981 11.928 36.3701 11.64C36.3061 11.512 36.2021 11.24 36.0581 10.824C35.9301 10.392 35.8661 10.128 35.8661 10.032Z"
                            fill="white"
                        />
                    </svg>
                </Box>
                <Box color="text">{loading ? 'Saving ...' : 'Saved'}</Box>
                <Box>
                    <ToggleSwitch checked={mode === 'dark'} toggle={toggleTheme} />
                </Box>
            </Box>
        </Nav>
    );
}
``;
